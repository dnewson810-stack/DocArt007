<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome to DocAtlier</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            background-color: #d9534f; /* Changed background to red */
            color: white; /* Changed all text to white */
            font-family: 'Inter', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 2rem;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .app-container {
            background-color: #c9302c; /* A slightly darker red for the container */
            border-radius: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            padding: 2.5rem;
            max-width: 900px;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .main-title {
            font-family: 'Bungee', cursive;
            font-size: 2.5rem;
            font-weight: bold;
            color: white; /* Ensures title is white */
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.4);
            text-align: center;
            margin-bottom: 1rem;
        }

        .tab-bar {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            border: none;
            background-color: #2e6097;
            color: #ffffff;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .tab-button:hover {
            background-color: #3b76b2;
            transform: translateY(-2px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.3);
        }

        .tab-button.active {
            background-color: #4b90e0;
            transform: translateY(-1px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .tab-button:before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background-color: rgba(255, 255, 255, 0.1);
            transition: all 0.6s ease;
            border-radius: 50%;
            z-index: -1;
            transform: translate(-50%, -50%) scale(0);
        }

        .tab-button:hover:before {
            transform: translate(-50%, -50%) scale(1);
        }

        .content-section {
            display: none;
            width: 100%;
        }

        .content-section.active {
            display: block;
        }

        /* Sub-tab styling for Games section */
        .sub-tab-bar {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 1.5rem;
        }
        
        .sub-tab-button {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            background-color: #c9302c; /* Darker red */
            color: white;
            border: 2px solid #d9534f; /* Lighter red border */
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sub-tab-button.active {
            background-color: #d9534f; /* Lighter red */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            transform: translateY(-2px);
        }

        .sub-tab-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .sub-content-section {
            display: none;
        }

        .sub-content-section.active {
            display: block;
        }

        /* Chess Board Styling */
        #chess-board-canvas {
            border-radius: 0.75rem;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease;
            max-width: 100%;
            height: auto;
            background-color: #d9534f;
            border: 2px solid #c9302c;
            touch-action: none;
        }

        .game-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
            margin-top: 1.5rem;
        }

        .status-message {
            font-size: 1.25rem;
            font-weight: 600;
            text-align: center;
            color: white;
            min-height: 25px;
        }

        .reset-button {
            padding: 0.75rem 1.5rem;
            border-radius: 9999px;
            background-color: #2e6097;
            color: white;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        .reset-button:hover {
            background-color: #3b76b2;
            transform: translateY(-2px);
        }
        
        .section-content {
            background-color: #1a2e47;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
            text-align: center;
        }
        .section-content h2 {
            font-size: 1.75rem;
            font-weight: bold;
            margin-bottom: 1rem;
            color: white; /* Ensures headings are white */
        }
        .section-content p, .section-content li {
            font-size: 1rem;
            line-height: 1.6;
            color: white; /* Ensures text is white */
        }
        .section-content ul {
            list-style: none;
            padding: 0;
            margin-top: 1rem;
        }
        .section-content a {
            color: #6a9bd8;
            text-decoration: none;
            font-weight: bold;
            transition: color 0.2s;
        }
        .section-content a:hover {
            color: #a0c4f8;
        }
        .purpose-text {
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* New styles for Rock Paper Scissors */
        .rps-game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            margin-top: 2rem;
            background-color: #1a2e47;
            padding: 2rem;
            border-radius: 1rem;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
            width: 100%;
        }

        .rps-game-container h2 {
            font-size: 1.75rem;
            font-weight: bold;
            color: white;
        }

        .rps-choices {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .rps-choices button {
            padding: 1rem;
            font-size: 2rem;
            border-radius: 0.75rem;
            background-color: #3b76b2;
            color: white;
            border: none;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        .rps-choices button:hover {
            transform: scale(1.1);
            background-color: #4b90e0;
        }

        .rps-result {
            font-size: 1.25rem;
            font-weight: 600;
            min-height: 50px;
            text-align: center;
        }
        
        .daily-verse-container {
            background-color: #1a2e47;
            padding: 1.5rem;
            border-radius: 1rem;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.3);
            text-align: center;
            margin-top: 2rem;
            max-width: 600px;
            width: 100%;
        }
        
        .daily-verse-container h3 {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: white;
        }
        
        .daily-verse-text {
            font-style: italic;
            font-size: 1.1rem;
            line-height: 1.5;
            color: white;
        }

        /* Hangman Game Styling */
        .hangman-game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        #hangman-canvas {
            border-radius: 0.75rem;
            background-color: #ffffff;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            border: 2px solid #c9302c;
        }
        .word-display {
            font-family: 'Bungee', cursive;
            font-size: 2rem;
            letter-spacing: 0.5rem;
            margin-top: 1rem;
        }
        .guess-input {
            margin-top: 1rem;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.5rem;
            max-width: 600px;
        }
        .letter-button {
            padding: 0.75rem;
            width: 40px;
            height: 40px;
            border-radius: 0.5rem;
            background-color: #2e6097;
            color: white;
            font-weight: bold;
            font-size: 1rem;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .letter-button:hover {
            background-color: #3b76b2;
            transform: translateY(-1px);
        }
        .letter-button:disabled {
            background-color: #555;
            color: #aaa;
            cursor: not-allowed;
            box-shadow: none;
        }
    </style>
</head>
<body>

<div class="app-container">
    <h1 class="main-title">Welcome to DocAtlier</h1>

    <div class="tab-bar">
        <button class="tab-button active" onclick="showSection('main-content')">Home</button>
        <button class="tab-button" onclick="showSection('games-content')">Games</button>
        <button class="tab-button" onclick="showSection('ebooks-content')">Ebooks</button>
        <button class="tab-button" onclick="showSection('purpose-content')">Purpose</button>
    </div>

    <!-- Main Content Section -->
    <div id="main-content" class="content-section active">
        <div class="daily-verse-container">
            <h3>Verse for Today</h3>
            <p id="daily-verse" class="daily-verse-text">Loading...</p>
        </div>
        <p class="mt-4 text-center text-white">
            Hello, and welcome to DocAtlier! We're glad you're here. Check out our different sections to play some games and learn more about our purpose!
        </p>
    </div>

    <!-- Games Section -->
    <div id="games-content" class="content-section">
        <div class="sub-tab-bar">
            <button class="sub-tab-button active" onclick="switchGame('chess-game')">Chess</button>
            <button class="sub-tab-button" onclick="switchGame('hangman-game')">Hangman</button>
        </div>

        <!-- Chess Game Sub-section -->
        <div id="chess-game" class="sub-content-section active">
            <h2 class="text-xl font-bold text-white mb-4 text-center">Chess</h2>
            <canvas id="chess-board-canvas"></canvas>
            <div class="game-controls">
                <div id="status" class="status-message"></div>
                <button id="reset-button-chess" class="reset-button">Reset Game</button>
            </div>
        </div>

        <!-- Hangman Game Sub-section -->
        <div id="hangman-game" class="sub-content-section">
            <div class="hangman-game-container">
                <h2 class="text-xl font-bold text-white text-center">Hangman</h2>
                <canvas id="hangman-canvas" width="300" height="300"></canvas>
                <div id="word-display" class="word-display"></div>
                <div id="hangman-status" class="status-message"></div>
                <div id="guess-input" class="guess-input"></div>
                <button id="reset-button-hangman" class="reset-button">New Word</button>
            </div>
        </div>

        <hr class="w-1/2 my-8 border-t-2 border-gray-400">

        <!-- Rock Paper Scissors Game (Kept as a separate section) -->
        <div class="rps-game-container">
            <h2>Rock Paper Scissors</h2>
            <div class="rps-choices">
                <button onclick="playRPS('rock')">✊</button>
                <button onclick="playRPS('paper')">✋</button>
                <button onclick="playRPS('scissors')">✌️</button>
            </div>
            <div id="rps-result" class="rps-result text-white"></div>
        </div>
    </div>

    <!-- Ebooks Section -->
    <div id="ebooks-content" class="content-section section-content">
        <h2>Ebooks & Resources</h2>
        <p>This is where we will showcase our valuable ebooks and digital resources for you to enjoy and learn from. Coming soon!</p>
        <div class="mt-4">
            <p><strong>Detroit Sentinels:</strong> <a href="https://drive.google.com/file/d/18kOjcZxZVaN_Wq5xX8BqFc0ZG_-0Mm30/view?usp=sharing" target="_blank">View Here</a></p>
            <p>If you'd like to support our mission, you can make a donation:</p>
            <p><strong>PayPal:</strong> <a href="https://www.paypal.com/paypalme/DenzelNewson93" target="_blank">@DenzelNewson93</a></p>
        </div>
    </div>

    <!-- Purpose Section -->
    <div id="purpose-content" class="content-section section-content">
        <h2>Our Purpose</h2>
        <p class="purpose-text">
            Our purpose is simple. The enemy is trying to warp our kids by pushing wickedness and toxicity through content, platforms, and the culture and we are going to protect them by pushing God and positivity with our lives, actions and platforms. It is time to take territory.
        </p>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Tab Switching Logic ---
        window.showSection = function(sectionId) {
            const sections = document.querySelectorAll('.content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            const buttons = document.querySelectorAll('.tab-button');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            document.querySelector(`button[onclick="showSection('${sectionId}')"]`).classList.add('active');
        };

        // --- Sub-Game Switching Logic ---
        window.switchGame = function(gameId) {
            const sections = document.querySelectorAll('.sub-content-section');
            sections.forEach(section => {
                section.classList.remove('active');
            });
            const buttons = document.querySelectorAll('.sub-tab-button');
            buttons.forEach(button => {
                button.classList.remove('active');
            });
            document.getElementById(gameId).classList.add('active');
            document.querySelector(`button[onclick="switchGame('${gameId}')"]`).classList.add('active');
            
            // Re-draw/init the game when switching to it
            if (gameId === 'chess-game') {
                resetChessGame();
            } else if (gameId === 'hangman-game') {
                resetHangmanGame();
            }
        };

        // --- Daily Bible Verse Logic ---
        const bibleVerses = [
            "Genesis 1:1 - In the beginning God created the heavens and the earth.",
            "Genesis 2:7 - And the LORD God formed man of the dust of the ground, and breathed into his nostrils the breath of life; and man became a living soul.",
            "Genesis 6:14 - Make thee an ark of gopher wood; rooms shalt thou make in the ark, and shalt pitch it within and without with pitch.",
            "Genesis 9:13 - I do set my bow in the cloud, and it shall be for a token of a covenant between me and the earth.",
            "Exodus 3:14 - And God said unto Moses, I AM THAT I AM: and he said, Thus shalt thou say unto the children of Israel, I AM hath sent me unto you.",
            "Exodus 14:14 - The LORD shall fight for you, and ye shall hold your peace.",
            "Leviticus 19:18 - ...thou shalt love thy neighbour as thyself: I am the LORD.",
            "Numbers 6:24-26 - The LORD bless thee, and keep thee: The LORD make his face shine upon thee, and be gracious unto thee: The LORD lift up his countenance upon thee, and give thee peace.",
            "Deuteronomy 6:5 - And thou shalt love the LORD thy God with all thine heart, and with all thy soul, and with all thy might.",
            "Joshua 1:9 - Be strong and of a good courage; be not afraid, neither be thou dismayed: for the LORD thy God is with thee whithersoever thou goest.",
            "Judges 6:12 - And the angel of the LORD appeared unto him, and said unto him, The LORD is with thee, thou mighty man of valour.",
            "Ruth 1:16 - But Ruth said, Intreat me not to leave thee, or to return from following after thee: for whither thou goest, I will go; and where thou lodgest, I will lodge: thy people shall be my people, and thy God my God.",
            "1 Samuel 16:7 - ...for the LORD seeth not as man seeth; for man looketh on the outward appearance, but the LORD looketh on the heart.",
            "2 Samuel 7:22 - Wherefore thou art great, O LORD God: for there is none like thee, neither is there any God beside thee, according to all that we have heard with our ears.",
            "1 Kings 3:9 - Give therefore thy servant an understanding heart to judge thy people, that I may discern between good and bad: for who is able to judge this thy so great a people?",
            "2 Kings 20:5 - ...I have heard thy prayer, I have seen thy tears: behold, I will heal thee...",
            "1 Chronicles 16:11 - Seek the LORD and his strength, seek his face continually.",
            "2 Chronicles 7:14 - If my people, which are called by my name, shall humble themselves, and pray, and seek my face, and turn from their wicked ways; then will I hear from heaven, and will forgive their sin, and will heal their land.",
            "Ezra 8:23 - So we fasted and besought our God for this: and he was intreated of us.",
            "Nehemiah 8:10 - ...for the joy of the LORD is your strength.",
            "Esther 4:14 - ...and who knoweth whether thou art come to the kingdom for such a time as this?",
            "Job 19:25 - For I know that my redeemer liveth, and that he shall stand at the latter day upon the earth:",
            "Psalm 23:1 - The LORD is my shepherd; I shall not want.",
            "Psalm 46:1 - God is our refuge and strength, a very present help in trouble.",
            "Psalm 100:4 - Enter into his gates with thanksgiving, and into his courts with praise: be thankful unto him, and bless his name.",
            "Proverbs 3:5-6 - Trust in the LORD with all thine heart; and lean not unto thine own understanding. In all thy ways acknowledge him, and he shall direct thy paths.",
            "Ecclesiastes 3:1 - To every thing there is a season, and a time to every purpose under the heaven:",
            "Isaiah 40:31 - But they that wait upon the LORD shall renew their strength; they shall mount up with wings as eagles; they shall run, and not be weary; and they shall walk, and not faint.",
            "Jeremiah 29:11 - For I know the thoughts that I think toward you, saith the LORD, thoughts of peace, and not of evil, to give you an expected end.",
            "Lamentations 3:22-23 - It is of the LORD'S mercies that we are not consumed, because his compassions fail not. They are new every morning: great is thy faithfulness.",
            "Ezekiel 36:26 - A new heart also will I give you, and a new spirit will I put within you: and I will take away the stony heart out of your flesh, and I will give you an heart of flesh.",
            "Daniel 6:23 - Then was the king exceeding glad for him, and commanded that they should take Daniel up out of the den. So Daniel was taken up out of the den, and no manner of hurt was found upon him, because he believed in his God.",
            "Hosea 6:3 - Then shall we know, if we follow on to know the LORD: his going forth is prepared as the morning; and he shall come unto us as the rain, as the latter and former rain unto the earth.",
            "Joel 2:25 - And I will restore to you the years that the locust hath eaten, the cankerworm, and the caterpiller, and the palmerworm, my great army which I sent among you.",
            "Amos 5:24 - But let judgment run down as waters, and righteousness as a mighty stream.",
            "Obadiah 1:3 - The pride of thine heart hath deceived thee, thou that dwellest in the clefts of the rock, whose habitation is high; that saith in his heart, Who shall bring me down to the ground?",
            "Jonah 2:2 - And said, I cried by reason of mine affliction unto the LORD, and he heard me; out of the belly of hell cried I, and thou heardest my voice.",
            "Micah 6:8 - He hath shewed thee, O man, what is good; and what doth the LORD require of thee, but to do justly, and to love mercy, and to walk humbly with thy God?",
            "Nahum 1:7 - The LORD is good, a strong hold in the day of trouble; and he knoweth them that trust in him.",
            "Habakkuk 3:19 - The LORD God is my strength, and he will make my feet like hinds' feet, and he will make me to walk upon mine high places.",
            "Zephaniah 3:17 - The LORD thy God in the midst of thee is mighty; he will save, he will rejoice over thee with joy; he will rest in his love, he will joy over thee with singing.",
            "Haggai 2:9 - The glory of this latter house shall be greater than of the former, saith the LORD of hosts: and in this place will I give peace, saith the LORD of hosts.",
            "Zechariah 4:6 - Then he answered and spake unto me, saying, This is the word of the LORD unto Zerubbabel, saying, Not by might, nor by power, but by my spirit, saith the LORD of hosts.",
            "Malachi 3:10 - Bring ye all the tithes into the storehouse, that there may be meat in mine house, and prove me now herewith, saith the LORD of hosts, if I will not open you the windows of heaven, and pour you out a blessing, that there shall not be room enough to receive it.",
            "Matthew 6:33 - But seek ye first the kingdom of God, and his righteousness; and all these things shall be added unto you.",
            "Mark 10:27 - And Jesus looking upon them saith, With men it is impossible, but not with God: for with God all things are possible.",
            "Luke 1:37 - For with God nothing shall be impossible.",
            "John 3:16 - For God so loved the world, that he gave his only begotten Son, that whosoever believeth in him should not perish, but have everlasting life.",
            "Acts 1:8 - But ye shall receive power, after that the Holy Ghost is come upon you: and ye shall be witnesses unto me both in Jerusalem, and in all Judaea, and in Samaria, and unto the uttermost part of the earth.",
            "Romans 8:28 - And we know that all things work together for good to them that love God, to them who are the called according to his purpose.",
            "1 Corinthians 13:4-7 - Charity suffereth long, and is kind; charity envieth not; charity vaunteth not itself, is not puffed up, doth not behave itself unseemly, seeketh not her own, is not easily provoked, thinketh no evil; rejoiceth not in iniquity, but rejoiceth in the truth; beareth all things, believeth all things, hopeth all things, endureth all things.",
            "2 Corinthians 5:17 - Therefore if any man be in Christ, he is a new creature: old things are passed away; behold, all things are become new.",
            "Galatians 5:22-23 - But the fruit of the Spirit is love, joy, peace, longsuffering, gentleness, goodness, faith, meekness, temperance: against such there is no law.",
            "Ephesians 2:8-9 - For by grace are ye saved through faith; and that not of yourselves: it is the gift of God: not of works, lest any man should boast.",
            "Philippians 4:13 - I can do all things through Christ which strengtheneth me.",
            "Colossians 3:23 - And whatsoever ye do, do it heartily, as to the Lord, and not unto men;",
            "1 Thessalonians 5:17 - Pray without ceasing.",
            "2 Thessalonians 3:3 - But the Lord is faithful, who shall stablish you, and keep you from evil.",
            "1 Timothy 4:12 - Let no man despise thy youth; but be thou an example of the believers, in word, in conversation, in charity, in spirit, in faith, in purity.",
            "2 Timothy 1:7 - For God hath not given us the spirit of fear; but of power, and of love, and of a sound mind.",
            "Titus 3:5 - Not by works of righteousness which we have done, but according to his mercy he saved us, by the washing of regeneration, and renewing of the Holy Ghost;",
            "Philemon 1:6 - That the communication of thy faith may become effectual by the acknowledging of every good thing which is in you in Christ Jesus.",
            "Hebrews 11:1 - Now faith is the substance of things hoped for, the evidence of things not seen.",
            "James 1:5 - If any of you lack wisdom, let him ask of God, that giveth to all men liberally, and upbraideth not; and it shall be given him.",
            "1 Peter 5:7 - Casting all your care upon him; for he careth for you.",
            "2 Peter 3:9 - The Lord is not slack concerning his promise, as some men count slackness; but is longsuffering to us-ward, not willing that any should perish, but that all should come to repentance.",
            "1 John 4:7 - Beloved, let us love one another: for love is of God; and every one that loveth is born of God, and knoweth God.",
            "2 John 1:6 - And this is love, that we walk after his commandments. This is the commandment, That, as ye have heard from the beginning, ye should walk in it.",
            "3 John 1:4 - I have no greater joy than to hear that my children walk in truth.",
            "Jude 1:24-25 - Now unto him that is able to keep you from falling, and to present you faultless before the presence of his glory with exceeding joy, to the only wise God our Saviour, be glory and majesty, dominion and power, both now and ever. Amen.",
            "Revelation 3:20 - Behold, I stand at the door, and knock: if any man hear my voice, and open the door, I will come in to him, and will sup with him, and he with me.",
            "And many more verses to come!"
        ];
        
        const verseContainer = document.getElementById('daily-verse');
        const today = new Date();
        const startOfYear = new Date(today.getFullYear(), 0, 0);
        const diff = today - startOfYear;
        const oneDay = 1000 * 60 * 60 * 24;
        const dayOfYear = Math.floor(diff / oneDay);
        
        // Use modulo to loop through the verses if there are fewer than 366.
        const verseIndex = dayOfYear % bibleVerses.length;
        verseContainer.textContent = bibleVerses[verseIndex];

        // --- Chess Game Logic (Player vs. Simple AI) ---
        const chessCanvas = document.getElementById('chess-board-canvas');
        const chessCtx = chessCanvas.getContext('2d');
        const chessStatusDiv = document.getElementById('status');
        const chessResetButton = document.getElementById('reset-button-chess');
        
        let boardSize = Math.min(window.innerWidth * 0.8, window.innerHeight * 0.8, 600);
        let cellSize = boardSize / 8;

        chessCanvas.width = boardSize;
        chessCanvas.height = boardSize;

        let board = [];
        let currentPlayer = 'white';
        let selectedPiece = null;
        let selectedCell = null;
        let isComputerThinking = false;
        let highlightedMoves = [];
        let chessGameActive = false;

        const pieceSymbols = {
            'wR': '♖', 'wN': '♘', 'wB': '♗', 'wQ': '♕', 'wK': '♔', 'wP': '♙',
            'bR': '♜', 'bN': '♞', 'bB': '♝', 'bQ': '♛', 'bK': '♚', 'bP': '♟︎'
        };

        function resetChessGame() {
            // Initial board setup
            board = [
                ['bR', 'bN', 'bB', 'bQ', 'bK', 'bB', 'bN', 'bR'],
                ['bP', 'bP', 'bP', 'bP', 'bP', 'bP', 'bP', 'bP'],
                [null, null, null, null, null, null, null, null],
                [null, null, null, null, null, null, null, null],
                [null, null, null, null, null, null, null, null],
                [null, null, null, null, null, null, null, null],
                ['wP', 'wP', 'wP', 'wP', 'wP', 'wP', 'wP', 'wP'],
                ['wR', 'wN', 'wB', 'wQ', 'wK', 'wB', 'wN', 'wR']
            ];
            currentPlayer = 'white';
            selectedPiece = null;
            selectedCell = null;
            isComputerThinking = false;
            highlightedMoves = [];
            chessGameActive = true;
            updateChessStatus('White to move.');
            drawChessBoard();
        }

        function drawChessBoard() {
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    chessCtx.fillStyle = (row + col) % 2 === 0 ? '#f0d2c2' : '#9b5d4f';
                    chessCtx.fillRect(col * cellSize, row * cellSize, cellSize, cellSize);
                }
            }
            drawHighlightedMoves();
            drawChessPieces();
        }

        function drawHighlightedMoves() {
            chessCtx.fillStyle = 'rgba(255, 255, 0, 0.5)';
            highlightedMoves.forEach(move => {
                chessCtx.fillRect(move.col * cellSize, move.row * cellSize, cellSize, cellSize);
            });
        }

        function drawChessPieces() {
            chessCtx.font = `${cellSize * 0.7}px serif`;
            chessCtx.textAlign = 'center';
            chessCtx.textBaseline = 'middle';
            for (let row = 0; row < 8; row++) {
                for (let col = 0; col < 8; col++) {
                    const piece = board[row][col];
                    if (piece) {
                        const symbol = pieceSymbols[piece];
                        chessCtx.fillStyle = piece.startsWith('w') ? 'white' : 'black';
                        chessCtx.fillText(symbol, col * cellSize + cellSize / 2, row * cellSize + cellSize / 2);
                    }
                }
            }
        }

        function updateChessStatus(message) {
            chessStatusDiv.textContent = message;
        }

        function onChessClick(event) {
            if (isComputerThinking || currentPlayer !== 'white' || !chessGameActive) return;

            const rect = chessCanvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;
            const col = Math.floor(x / cellSize);
            const row = Math.floor(y / cellSize);

            if (selectedPiece === null) {
                const piece = board[row][col];
                if (piece && piece.startsWith('w')) {
                    selectedPiece = piece;
                    selectedCell = { row, col };
                    highlightedMoves = getValidMoves(selectedCell);
                    drawChessBoard();
                    updateChessStatus(`Selected ${selectedPiece}. Now select a destination.`);
                }
            } else {
                const target = { row, col };
                const moveIsValid = highlightedMoves.some(move => move.row === target.row && move.col === target.col);

                if (moveIsValid) {
                    board[target.row][target.col] = selectedPiece;
                    board[selectedCell.row][selectedCell.col] = null;
                    
                    // Check for pawn promotion
                    if (selectedPiece === 'wP' && target.row === 0) {
                        board[target.row][target.col] = 'wQ';
                    }

                    selectedPiece = null;
                    selectedCell = null;
                    highlightedMoves = [];
                    drawChessBoard();
                    
                    if (checkForGameOver()) {
                        return;
                    }

                    currentPlayer = 'black';
                    updateChessStatus('Black to move.');
                    setTimeout(computerMove, 500);
                } else {
                    // Deselect or select a new piece
                    const newPiece = board[row][col];
                    if (newPiece && newPiece.startsWith('w')) {
                        selectedPiece = newPiece;
                        selectedCell = { row, col };
                        highlightedMoves = getValidMoves(selectedCell);
                        drawChessBoard();
                        updateChessStatus(`Selected ${selectedPiece}. Now select a destination.`);
                    } else {
                        selectedPiece = null;
                        selectedCell = null;
                        highlightedMoves = [];
                        drawChessBoard();
                        updateChessStatus('Invalid move. White to move.');
                    }
                }
            }
        }

        function getValidMoves(cell) {
            const piece = board[cell.row][cell.col];
            if (!piece) return [];
            
            const moves = [];
            const pieceType = piece.substring(1);
            const player = piece.startsWith('w') ? 'white' : 'black';
            const opponent = player === 'white' ? 'black' : 'white';

            // Function to check if a cell is on the board and not occupied by a friendly piece
            function isValidTarget(row, col) {
                if (row < 0 || row >= 8 || col < 0 || col >= 8) return false;
                const targetPiece = board[row][col];
                if (targetPiece && targetPiece.startsWith(player === 'white' ? 'w' : 'b')) return false;
                return true;
            }
            
            // Function to add moves along a single direction until an obstacle is hit
            function checkLine(dRow, dCol) {
                let r = cell.row + dRow;
                let c = cell.col + dCol;
                while (isValidTarget(r, c)) {
                    moves.push({ row: r, col: c });
                    if (board[r][c]) break; // Stop if we hit an opponent's piece
                    r += dRow;
                    c += dCol;
                }
            }

            // Move logic for each piece type
            switch (pieceType) {
                case 'P':
                    const direction = player === 'white' ? -1 : 1;
                    const startRow = player === 'white' ? 6 : 1;

                    // Forward move
                    if (!board[cell.row + direction][cell.col]) {
                        moves.push({ row: cell.row + direction, col: cell.col });
                        // Double move on first turn
                        if (cell.row === startRow && !board[cell.row + 2 * direction][cell.col]) {
                            moves.push({ row: cell.row + 2 * direction, col: cell.col });
                        }
                    }
                    // Captures
                    if (isValidTarget(cell.row + direction, cell.col - 1) && board[cell.row + direction][cell.col - 1]) {
                        if (board[cell.row + direction][cell.col - 1].startsWith(opponent.charAt(0))) {
                            moves.push({ row: cell.row + direction, col: cell.col - 1 });
                        }
                    }
                    if (isValidTarget(cell.row + direction, cell.col + 1) && board[cell.row + direction][cell.col + 1]) {
                        if (board[cell.row + direction][cell.col + 1].startsWith(opponent.charAt(0))) {
                            moves.push({ row: cell.row + direction, col: cell.col + 1 });
                        }
                    }
                    break;
                case 'R':
                    checkLine(1, 0); checkLine(-1, 0); checkLine(0, 1); checkLine(0, -1);
                    break;
                case 'N':
                    const knightMoves = [[2, 1], [2, -1], [-2, 1], [-2, -1], [1, 2], [1, -2], [-1, 2], [-1, -2]];
                    knightMoves.forEach(move => {
                        const newRow = cell.row + move[0];
                        const newCol = cell.col + move[1];
                        if (isValidTarget(newRow, newCol)) moves.push({ row: newRow, col: newCol });
                    });
                    break;
                case 'B':
                    checkLine(1, 1); checkLine(1, -1); checkLine(-1, 1); checkLine(-1, -1);
                    break;
                case 'Q':
                    checkLine(1, 0); checkLine(-1, 0); checkLine(0, 1); checkLine(0, -1);
                    checkLine(1, 1); checkLine(1, -1); checkLine(-1, 1); checkLine(-1, -1);
                    break;
                case 'K':
                    const kingMoves = [[1, 0], [-1, 0], [0, 1], [0, -1], [1, 1], [1, -1], [-1, 1], [-1, -1]];
                    kingMoves.forEach(move => {
                        const newRow = cell.row + move[0];
                        const newCol = cell.col + move[1];
                        if (isValidTarget(newRow, newCol)) moves.push({ row: newRow, col: newCol });
                    });
                    break;
            }

            return moves;
        }
        
        function computerMove() {
            isComputerThinking = true;
            const blackPieces = [];
            for (let r = 0; r < 8; r++) {
                for (let c = 0; c < 8; c++) {
                    const piece = board[r][c];
                    if (piece && piece.startsWith('b')) {
                        blackPieces.push({ piece, row: r, col: c });
                    }
                }
            }

            let bestMove = null;
            let bestScore = -Infinity;

            // Simple Minimax-like AI: Find the move that captures the highest value piece
            blackPieces.forEach(start => {
                const moves = getValidMoves(start);
                moves.forEach(end => {
                    const capturedPiece = board[end.row][end.col];
                    let score = 0;
                    if (capturedPiece) {
                        score = getPieceValue(capturedPiece);
                    }
                    if (score > bestScore) {
                        bestScore = score;
                        bestMove = { start, end };
                    }
                });
            });

            // If no captures are possible, just make a random valid move
            if (bestMove === null) {
                let allMoves = [];
                blackPieces.forEach(start => {
                    const moves = getValidMoves(start);
                    moves.forEach(end => {
                        allMoves.push({ start, end });
                    });
                });

                if (allMoves.length > 0) {
                    const randomMove = allMoves[Math.floor(Math.random() * allMoves.length)];
                    bestMove = randomMove;
                }
            }

            if (bestMove) {
                const startCell = bestMove.start;
                const endCell = bestMove.end;
                const pieceToMove = board[startCell.row][startCell.col];
                
                board[endCell.row][endCell.col] = pieceToMove;
                board[startCell.row][startCell.col] = null;

                // Check for pawn promotion
                if (pieceToMove === 'bP' && endCell.row === 7) {
                    board[endCell.row][endCell.col] = 'bQ';
                }

                drawChessBoard();

                if (checkForGameOver()) {
                    isComputerThinking = false;
                    return;
                }

                currentPlayer = 'white';
                updateChessStatus('White to move.');
            } else {
                updateChessStatus("Stalemate or checkmate. Game Over.");
                chessGameActive = false;
            }
            isComputerThinking = false;
        }

        // Simple piece values for the AI
        function getPieceValue(piece) {
            switch (piece.substring(1)) {
                case 'P': return 10;
                case 'N': return 30;
                case 'B': return 30;
                case 'R': return 50;
                case 'Q': return 90;
                case 'K': return 900;
                default: return 0;
            }
        }

        function checkForGameOver() {
            let whiteKingFound = false;
            let blackKingFound = false;

            for (let r = 0; r < 8; r++) {
                for (let c = 0; c < 8; c++) {
                    const piece = board[r][c];
                    if (piece === 'wK') whiteKingFound = true;
                    if (piece === 'bK') blackKingFound = true;
                }
            }

            if (!whiteKingFound) {
                updateChessStatus('Game Over! Black wins!');
                chessGameActive = false;
                return true;
            }
            if (!blackKingFound) {
                updateChessStatus('Game Over! White wins!');
                chessGameActive = false;
                return true;
            }

            return false;
        }

        // Event listeners
        chessCanvas.addEventListener('mousedown', onChessClick);
        chessResetButton.addEventListener('click', resetChessGame);

        // Resize handler for responsiveness
        window.addEventListener('resize', () => {
            if (document.getElementById('chess-game').classList.contains('active')) {
                boardSize = Math.min(window.innerWidth * 0.8, window.innerHeight * 0.8, 600);
                cellSize = boardSize / 8;
                chessCanvas.width = boardSize;
                chessCanvas.height = boardSize;
                drawChessBoard();
            }
        });

        // --- Hangman Game Logic ---
        const hangmanCanvas = document.getElementById('hangman-canvas');
        const hangmanCtx = hangmanCanvas.getContext('2d');
        const hangmanWordDisplay = document.getElementById('word-display');
        const hangmanStatus = document.getElementById('hangman-status');
        const hangmanGuessInput = document.getElementById('guess-input');
        const hangmanResetButton = document.getElementById('reset-button-hangman');

        let words = ['JESUS', 'BIBLE', 'PRAYER', 'FAITH', 'HOPE', 'LOVE', 'GRACE', 'MERCY', 'SPIRIT', 'REDEMPTION'];
        let secretWord;
        let guessedLetters;
        let mistakes;
        const maxMistakes = 7;
        let hangmanGameActive = false;

        function resetHangmanGame() {
            secretWord = words[Math.floor(Math.random() * words.length)];
            guessedLetters = new Set();
            mistakes = 0;
            hangmanGameActive = true;
            drawHangman();
            updateWordDisplay();
            generateLetterButtons();
            hangmanStatus.textContent = 'Guess a letter!';
        }

        function drawHangman() {
            hangmanCtx.clearRect(0, 0, hangmanCanvas.width, hangmanCanvas.height);
            hangmanCtx.strokeStyle = '#c9302c'; // Darker red for gallows
            hangmanCtx.lineWidth = 4;
            hangmanCtx.lineCap = 'round';

            // Base
            hangmanCtx.beginPath();
            hangmanCtx.moveTo(20, hangmanCanvas.height - 20);
            hangmanCtx.lineTo(hangmanCanvas.width - 20, hangmanCanvas.height - 20);
            hangmanCtx.stroke();

            // Post
            hangmanCtx.beginPath();
            hangmanCtx.moveTo(80, hangmanCanvas.height - 20);
            hangmanCtx.lineTo(80, 20);
            hangmanCtx.stroke();
            
            // Top beam
            hangmanCtx.beginPath();
            hangmanCtx.moveTo(80, 20);
            hangmanCtx.lineTo(200, 20);
            hangmanCtx.stroke();

            // Rope
            hangmanCtx.beginPath();
            hangmanCtx.moveTo(200, 20);
            hangmanCtx.lineTo(200, 50);
            hangmanCtx.stroke();

            if (mistakes > 0) {
                // Head
                hangmanCtx.beginPath();
                hangmanCtx.arc(200, 80, 30, 0, Math.PI * 2);
                hangmanCtx.stroke();
            }
            if (mistakes > 1) {
                // Body
                hangmanCtx.beginPath();
                hangmanCtx.moveTo(200, 110);
                hangmanCtx.lineTo(200, 200);
                hangmanCtx.stroke();
            }
            if (mistakes > 2) {
                // Left arm
                hangmanCtx.beginPath();
                hangmanCtx.moveTo(200, 120);
                hangmanCtx.lineTo(150, 150);
                hangmanCtx.stroke();
            }
            if (mistakes > 3) {
                // Right arm
                hangmanCtx.beginPath();
                hangmanCtx.moveTo(200, 120);
                hangmanCtx.lineTo(250, 150);
                hangmanCtx.stroke();
            }
            if (mistakes > 4) {
                // Left leg
                hangmanCtx.beginPath();
                hangmanCtx.moveTo(200, 200);
                hangmanCtx.lineTo(170, 250);
                hangmanCtx.stroke();
            }
            if (mistakes > 5) {
                // Right leg
                hangmanCtx.beginPath();
                hangmanCtx.moveTo(200, 200);
                hangmanCtx.lineTo(230, 250);
                hangmanCtx.stroke();
            }
            if (mistakes > 6) {
                // Crying face
                hangmanCtx.strokeStyle = '#c9302c';
                hangmanCtx.beginPath();
                hangmanCtx.arc(190, 75, 2, 0, Math.PI * 2);
                hangmanCtx.fill();
                hangmanCtx.beginPath();
                hangmanCtx.arc(210, 75, 2, 0, Math.PI * 2);
                hangmanCtx.fill();
                hangmanCtx.beginPath();
                hangmanCtx.arc(200, 95, 5, 0, Math.PI, false);
                hangmanCtx.stroke();
            }
        }

        function updateWordDisplay() {
            let displayWord = '';
            for (const letter of secretWord) {
                if (guessedLetters.has(letter)) {
                    displayWord += letter + ' ';
                } else {
                    displayWord += '_ ';
                }
            }
            hangmanWordDisplay.textContent = displayWord.trim();
        }

        function generateLetterButtons() {
            hangmanGuessInput.innerHTML = '';
            for (let i = 65; i <= 90; i++) {
                const letter = String.fromCharCode(i);
                const button = document.createElement('button');
                button.textContent = letter;
                button.classList.add('letter-button');
                button.addEventListener('click', () => handleGuess(letter));
                hangmanGuessInput.appendChild(button);
            }
        }

        function handleGuess(letter) {
            if (!hangmanGameActive) return;

            // Disable the button
            const button = Array.from(hangmanGuessInput.children).find(btn => btn.textContent === letter);
            if (button) button.disabled = true;

            if (secretWord.includes(letter)) {
                guessedLetters.add(letter);
                updateWordDisplay();
                hangmanStatus.textContent = 'Correct!';
                checkWinLoss();
            } else {
                mistakes++;
                drawHangman();
                hangmanStatus.textContent = `Incorrect! You have ${maxMistakes - mistakes} guesses left.`;
                checkWinLoss();
            }
        }

        function checkWinLoss() {
            if (mistakes >= maxMistakes) {
                hangmanStatus.textContent = `You lose! The word was ${secretWord}.`;
                hangmanGameActive = false;
                disableButtons();
            } else if (isWordGuessed()) {
                hangmanStatus.textContent = `You win! The word was ${secretWord}.`;
                hangmanGameActive = false;
                disableButtons();
            }
        }

        function isWordGuessed() {
            for (const letter of secretWord) {
                if (!guessedLetters.has(letter)) {
                    return false;
                }
            }
            return true;
        }

        function disableButtons() {
            Array.from(hangmanGuessInput.children).forEach(button => {
                button.disabled = true;
            });
        }

        hangmanResetButton.addEventListener('click', resetHangmanGame);

        // --- Rock Paper Scissors Game Logic ---
        window.playRPS = function(playerChoice) {
            const choices = ['rock', 'paper', 'scissors'];
            const computerChoice = choices[Math.floor(Math.random() * choices.length)];

            let result;
            if (playerChoice === computerChoice) {
                result = "It's a tie!";
            } else if (
                (playerChoice === 'rock' && computerChoice === 'scissors') ||
                (playerChoice === 'paper' && computerChoice === 'rock') ||
                (playerChoice === 'scissors' && computerChoice === 'paper')
            ) {
                result = `You win! ${playerChoice} beats ${computerChoice}.`;
            } else {
                result = `You lose! ${computerChoice} beats ${playerChoice}.`;
            }

            document.getElementById('rps-result').textContent = result;
        };

        // Initialize the first game
        resetChessGame();
        resetHangmanGame();
    });
</script>
</body>
</html>
